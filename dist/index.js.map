{"version":3,"sources":["../src/index.js"],"names":["routes","DEV","process","env","NODE_ENV","PORT","app","engine","create","extname","layoutsDir","partialsDir","defaultLayout","cache","helpers","production","inc","n","set","use","static","api","get","_","res","render","questions","listen"],"mappings":";;AAAA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AAEA;;IAAYA,M;;AAEZ;;;;;;;;AAEA,MAAMC,MAAMC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAArC;AACA,MAAMC,OAAOH,QAAQC,GAAR,CAAYE,IAAZ,IAAoB,IAAjC;;AAEA,MAAMC,MAAM,wBAAZ;;AAEAA,IAAIC,MAAJ,CAAW,MAAX,EAAmB,4BAAIC,MAAJ,CAAW;AAC5BC,WAAS,MADmB;AAE5BC,cAAY,sBAFgB;AAG5BC,eAAa,CAAC,uBAAD,CAHe;AAI5BC,iBAAe,MAJa;AAK5BC,SAAO,CAACZ,GALoB;AAM5Ba,WAAS,EAAEC,YAAY,MAAMd,GAApB,EAAyBe,KAAKC,KAAKA,IAAI,CAAvC;AANmB,CAAX,EAOhBV,MAPH;;AASAD,IAAIY,GAAJ,CAAQ,OAAR,EAAiB,cAAjB;AACAZ,IAAIY,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;;AAEAZ,IAAIa,GAAJ,CAAQ,kBAAQC,MAAR,CAAe,QAAf,CAAR;AACAd,IAAIa,GAAJ,CAAQ,uBAAR;AACAb,IAAIa,GAAJ,CAAQ,sBAAOlB,MAAM,KAAN,GAAc,UAArB,CAAR;;AAEAK,IAAIa,GAAJ,CAAQ,MAAR,EAAgBnB,OAAOqB,GAAvB;;AAEAf,IAAIgB,GAAJ,CAAQ,SAAR,EAAmB,CAACC,CAAD,EAAIC,GAAJ,KAAYA,IAAIC,MAAJ,CAAW,QAAX,EAAqB,EAAEC,8BAAF,EAArB,CAA/B;AACApB,IAAIgB,GAAJ,CAAQ,GAAR,EAAa,CAACC,CAAD,EAAIC,GAAJ,KAAYA,IAAIC,MAAJ,CAAW,MAAX,CAAzB;;AAEAnB,IAAIqB,MAAJ,CAAWtB,IAAX;AACA,kBAAK,2BAA0BA,IAAK,EAApC","file":"index.js","sourcesContent":["import './config/process'\n\nimport express from 'express'\nimport hbs from 'express-handlebars'\nimport morgan from 'morgan'\nimport { json as jsonParser } from 'body-parser'\nimport { log, error } from 'console'\n\nimport * as routes from './routes'\n\nimport questions from './data/questions.json'\n\nconst DEV = process.env.NODE_ENV !== 'production'\nconst PORT = process.env.PORT || 3000\n\nconst app = express()\n\napp.engine('.hbs', hbs.create({\n  extname: '.hbs',\n  layoutsDir: 'client/views/layouts',\n  partialsDir: ['client/views/partials'],\n  defaultLayout: 'main',\n  cache: !DEV,\n  helpers: { production: () => DEV, inc: n => n + 1 }\n}).engine)\n\napp.set('views', 'client/views')\napp.set('view engine', '.hbs')\n\napp.use(express.static('static'))\napp.use(jsonParser())\napp.use(morgan(DEV ? 'dev' : 'combined'))\n\napp.use('/api', routes.api)\n\napp.get('/survey', (_, res) => res.render('survey', { questions }))\napp.get('*', (_, res) => res.render('home'))\n\napp.listen(PORT)\nlog(`\\u2714 started on port: ${PORT}`)\n"]}