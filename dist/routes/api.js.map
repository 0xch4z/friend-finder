{"version":3,"sources":["../../src/routes/api.js"],"names":["router","get","_","res","json","post","req","scores","body","Array","isArray","sum","reduce","x","y","match","map","d","$sum","diff","Math","abs","sort","shift","status"],"mappings":";;;;;;AAAA;;AAEA;;AAEA,MAAMA,SAAS,sBAAf;;AAEAA,OAAOC,GAAP,CAAW,UAAX,EAAuB,CAACC,CAAD,EAAIC,GAAJ,KAAYA,IAAIC,IAAJ,iBAAnC;;AAEAJ,OAAOK,IAAP,CAAY,UAAZ,EAAwB,CAACC,GAAD,EAAMH,GAAN,KAAc;AACpC,MAAI,EAAEI,MAAF,KAAaD,IAAIE,IAArB;;AAEA,MAAI,CAACC,MAAMC,OAAN,CAAcH,MAAd,CAAL,EAA4B;AAC1BA,aAAS,CAAC,CAAD,CAAT;AACD;;AAED,QAAMI,MAAMJ,OAAOK,MAAP,CAAc,CAACC,CAAD,EAAIC,CAAJ,KAAUD,IAAIC,CAA5B,EAA+B,CAA/B,CAAZ;AACA,QAAMC,QAAQ,gBAAUC,GAAV,CAAcC,KAAK;AAC/B,UAAMC,OAAOD,EAAEV,MAAF,CAASK,MAAT,CAAgB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,IAAIC,CAA9B,EAAiC,CAAjC,CAAb;AACAG,MAAEE,IAAF,GAASC,KAAKC,GAAL,CAASV,MAAMO,IAAf,CAAT;AACA,WAAOD,CAAP;AACD,GAJa,EAIXK,IAJW,CAIN,CAACT,CAAD,EAAIC,CAAJ,KAAUD,EAAEM,IAAF,GAASL,EAAEK,IAJf,EAIqBI,KAJrB,EAAd;;AAMApB,MAAIqB,MAAJ,CAAW,GAAX,EAAgBpB,IAAhB,CAAqB,EAAEW,KAAF,EAArB;AACD,CAfD;;kBAiBef,M","file":"api.js","sourcesContent":["import { Router } from 'express'\n\nimport { dummyData } from '../models/user'\n\nconst router = Router()\n\nrouter.get('/friends', (_, res) => res.json(dummyData))\n\nrouter.post('/friends', (req, res) => {\n  let { scores } = req.body\n\n  if (!Array.isArray(scores)) {\n    scores = [0]\n  }\n\n  const sum = scores.reduce((x, y) => x + y, 0)\n  const match = dummyData.map(d => {\n    const $sum = d.scores.reduce((x, y) => x + y, 0)\n    d.diff = Math.abs(sum - $sum)\n    return d\n  }).sort((x, y) => x.diff - y.diff).shift()\n\n  res.status(200).json({ match })\n})\n\nexport default router\n"]}